/*
 * JPAstreamer - Express JPA queries with Java Streams
 * Copyright (c) 2020-2022, Speedment, Inc. All Rights Reserved.
 *
 * License: GNU Lesser General Public License (LGPL), version 2.1 or later.
 *
 * This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Lesser General Public License for more details.
 *
 * See: https://github.com/speedment/jpa-streamer/blob/master/LICENSE
 */
suite('lunr.stopWordFilter', function () {
  test('filters stop words', function () {
    var stopWords = ['the', 'and', 'but', 'than', 'when']

    stopWords.forEach(function (word) {
      assert.isUndefined(lunr.stopWordFilter(word))
    })
  })

  test('ignores non stop words', function () {
    var nonStopWords = ['interesting', 'words', 'pass', 'through']

    nonStopWords.forEach(function (word) {
      assert.equal(word, lunr.stopWordFilter(word))
    })
  })

  test('ignores properties of Object.prototype', function () {
    var nonStopWords = ['constructor', 'hasOwnProperty', 'toString', 'valueOf']

    nonStopWords.forEach(function (word) {
      assert.equal(word, lunr.stopWordFilter(word))
    })
  })

  test('is a registered pipeline function', function () {
    assert.equal('stopWordFilter', lunr.stopWordFilter.label)
    assert.equal(lunr.stopWordFilter, lunr.Pipeline.registeredFunctions['stopWordFilter'])
  })
})
